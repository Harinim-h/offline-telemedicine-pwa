rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Demo mode rules for this app (no Firebase Auth in app code yet).
    // Use stricter rules before production.

    match /users/{userId} {
      allow read, write: if true;
    }

    match /appointments/{appointmentId} {
      allow read, write: if true;
    }

    match /consultRooms/{roomId} {
      allow read, write: if true;

      match /doctorCandidates/{candidateId} {
        allow read, write: if true;
      }

      match /patientCandidates/{candidateId} {
        allow read, write: if true;
      }
    }

    match /appointmentChats/{appointmentId} {
      allow read, write: if true;

      match /messages/{messageId} {
        allow read, write: if true;
      }
    }
  }
}
